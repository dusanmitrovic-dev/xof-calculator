<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EROSA – Seduction, Systemized</title>
    <link rel="icon" type="image/png"
        href="https://cdn.discordapp.com/avatars/1374205097411612682/10be7ba66b741be7783d8abb5e998bd2.webp?size=480">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Inter:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            background: linear-gradient(120deg, #18131d 0%, #2d1b2e 100%);
            color: #fff;
            font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
            font-size: 1.13rem;
            font-weight: 500;
            letter-spacing: 0.02em;
            line-height: 1.7;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: block;
            /* Allow normal document flow and scrolling */
        }

        .bg-glow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 0;
            background: radial-gradient(circle at 70% 20%, #ff4e8e33 0%, transparent 60%),
                radial-gradient(circle at 20% 80%, #e2555533 0%, transparent 60%);
            animation: bgmove 12s ease-in-out infinite alternate;
        }

        @keyframes bgmove {
            0% {
                background-position: 70% 20%, 20% 80%;
            }

            100% {
                background-position: 60% 30%, 30% 70%;
            }
        }

        .main-container {
            background: rgba(30, 18, 38, 0.82);
            border-radius: 2.5rem;
            box-shadow: 0 8px 40px 0 rgba(200, 0, 80, 0.22), 0 1.5px 12px 0 rgba(0, 0, 0, 0.12), 0 0 48px 8px #ff4e8e33;
            padding: 3.5rem 2.5rem 2.5rem 2.5rem;
            max-width: 500px;
            width: 95vw;
            text-align: center;
            margin: 2.5rem auto 3.5rem auto;
            /* Add margin-bottom for scroll spacing */
            position: relative;
            z-index: 2;
            backdrop-filter: blur(16px) saturate(160%);
            border: 1.5px solid #ff4e8e33;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 0.2s both, main-glow 3.5s ease-in-out infinite alternate;
            overflow: hidden;
        }

        @keyframes fadein {
            0% {
                opacity: 0;
                transform: translateY(40px) scale(0.98);
            }

            100% {
                opacity: 1;
                transform: none;
            }
        }

        @keyframes main-glow {
            0% {
                box-shadow: 0 8px 40px 0 rgba(200, 0, 80, 0.22), 0 1.5px 12px 0 rgba(0, 0, 0, 0.12), 0 0 48px 8px #ff4e8e33;
            }

            100% {
                box-shadow: 0 8px 40px 0 rgba(200, 0, 80, 0.22), 0 1.5px 12px 0 rgba(0, 0, 0, 0.12), 0 0 80px 24px #ff4e8e66;
            }
        }

        .wide-logo {
            width: 100%;
            height: auto;
            max-width: 420px;
            min-width: 0;
            max-height: 180px;
            object-fit: contain;
            margin-bottom: 1.2rem;
            margin-top: 0;
            border-top-left-radius: 2.5rem;
            border-top-right-radius: 2.5rem;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
            display: block;
            margin-left: auto;
            margin-right: auto;
            filter: drop-shadow(0 2px 32px #ff4e8e88);
            background: transparent;
            animation: logoPop 1.2s cubic-bezier(.77, 0, .18, 1) 0.4s both;
        }

        @keyframes logoPop {
            0% {
                opacity: 0;
                transform: scale(0.8) rotate(-6deg);
            }

            80% {
                opacity: 1;
                transform: scale(1.08) rotate(2deg);
            }

            100% {
                opacity: 1;
                transform: scale(1) rotate(0);
            }
        }

        .status-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.6em;
            margin-bottom: 1.2em;
        }

        .status-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: linear-gradient(135deg, #27ff60 0%, #1ed760 100%);
            box-shadow: 0 0 16px 4px #27ff60cc;
            border: 2.5px solid #fff2;
            animation: pulse 1.2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 16px 4px #27ff60cc;
            }

            50% {
                box-shadow: 0 0 32px 10px #27ff6099;
            }

            100% {
                box-shadow: 0 0 16px 4px #27ff60cc;
            }
        }

        .status-label {
            font-size: 1.08rem;
            font-weight: 700;
            color: #b6ffcb;
            letter-spacing: 0.5px;
            text-shadow: 0 1px 8px #1ed76033;
            text-transform: uppercase;
        }

        h1,
        .tagline {
            font-size: 2.6rem;
            font-weight: 900;
            margin-bottom: 0.15em;
            letter-spacing: 0.08em;
            font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
            text-shadow: 0 2px 24px #ff4e8e33, 0 1px 0 #fff1, 0 0 2px #fff8;
            filter: drop-shadow(0 2px 12px #ff4e8e44);
            font-style: italic;
            background: linear-gradient(90deg, #ff4e8e 0%, #e25555 40%, #fff 50%, #ff4e8e 60%, #e25555 100%);
            background-size: 200% 100%;
            background-position: 0 0;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
            animation: lightning-text 2.2s cubic-bezier(.77, 0, .18, 1) infinite;
            position: relative;
            overflow: hidden;
        }

        @keyframes lightning-text {
            0% {
                background-position: 0 0;
            }

            40% {
                background-position: 100% 0;
            }

            100% {
                background-position: 200% 0;
            }
        }

        .tagline {
            font-size: 1.35rem;
            font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
            font-weight: 700;
            letter-spacing: 0.13em;
            text-shadow: 0 2px 12px #ff4e8e22, 0 1px 0 #fff1, 0 0 2px #fff8;
            margin-bottom: 0.7em;
            background: linear-gradient(90deg, #ff4e8e 0%, #e25555 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            overflow: hidden;
        }

        .h1-loader,
        .tagline-loader {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            background: linear-gradient(120deg, rgba(255, 255, 255, 0) 0%, #fff8 30%, #ff4e8e 50%, #fff8 70%, rgba(255, 255, 255, 0) 100%);
            background-size: 200% 100%;
            mix-blend-mode: lighten;
            animation: lightning-loader 1.2s cubic-bezier(.77, 0, .18, 1) infinite;
        }

        @keyframes lightning-loader {
            0% {
                background-position: -100% 0;
                opacity: 0.7;
            }

            30% {
                opacity: 1;
            }

            50% {
                background-position: 100% 0;
                opacity: 0.9;
            }

            70% {
                opacity: 1;
            }

            100% {
                background-position: 200% 0;
                opacity: 0.7;
            }
        }

        .about {
            font-size: 1.22rem;
            font-family: 'Inter', 'Montserrat', 'Segoe UI', Arial, sans-serif;
            font-weight: 600;
            letter-spacing: 0.04em;
            color: #f7d6e6;
            text-shadow: 0 1px 8px #ff4e8e22, 0 1px 0 #fff1;
            margin-bottom: 2.2em;
            line-height: 1.8;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 0.8s both;
        }

        .features {
            text-align: left;
            margin: 0 auto 2em auto;
            max-width: 340px;
            font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
            font-size: 1.15rem;
            font-weight: 600;
            letter-spacing: 0.03em;
            color: #f7d6e6;
            background: rgba(255, 78, 142, 0.07);
            border-radius: 1.2em;
            padding: 1.1em 1.2em 1.1em 1.2em;
            box-shadow: 0 2px 12px 0 #ff4e8e11;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 1s both;
        }

        .features strong {
            color: #ff4e8e;
            font-weight: 900;
            letter-spacing: 0.07em;
            text-shadow: 0 1px 8px #ff4e8e44;
        }

        .features-list {
            margin: 0.7em 0 0 0;
            padding: 0;
            list-style: none;
        }

        .features-list li {
            margin-bottom: 0.7em;
            position: relative;
            padding-left: 1.5em;
            font-family: 'Inter', 'Montserrat', 'Segoe UI', Arial, sans-serif;
            font-size: 1.08rem;
            font-weight: 600;
            letter-spacing: 0.04em;
            text-shadow: 0 1px 4px #ff4e8e22;
        }

        .features-list li::before {
            content: '⟶';
            position: absolute;
            left: 0;
            color: #ff4e8e;
            font-size: 1.1em;
            top: 0.1em;
            filter: drop-shadow(0 1px 4px #ff4e8e44);
        }

        .invite-btn {
            display: inline-block;
            background: linear-gradient(90deg, #ff4e8e 0%, #e25555 100%);
            color: #fff;
            font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
            font-size: 1.22rem;
            font-weight: 900;
            letter-spacing: 0.09em;
            text-shadow: 0 2px 12px #ff4e8e22, 0 1px 0 #fff1;
            padding: 1.1em 2.6em;
            border: none;
            border-radius: 999px;
            text-decoration: none;
            box-shadow: 0 4px 18px 0 rgba(255, 78, 142, 0.18);
            transition: background 0.2s, transform 0.2s, box-shadow 0.2s, filter 0.2s;
            margin-bottom: 1.5em;
            position: relative;
            overflow: hidden;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 1.2s both;
        }

        .invite-btn::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            width: 180%;
            height: 180%;
            background: radial-gradient(circle, #ff4e8e44 0%, transparent 80%);
            transform: translate(-50%, -50%) scale(0.7);
            opacity: 0.7;
            z-index: 0;
            pointer-events: none;
            animation: btnpulse 2.2s infinite;
        }

        @keyframes btnpulse {
            0% {
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(0.7);
            }

            50% {
                opacity: 0.3;
                transform: translate(-50%, -50%) scale(1.1);
            }

            100% {
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(0.7);
            }
        }

        .invite-btn:hover {
            background: linear-gradient(90deg, #e25555 0%, #ff4e8e 100%);
            transform: translateY(-2px) scale(1.045);
            box-shadow: 0 8px 32px 0 rgba(255, 78, 142, 0.28);
            filter: brightness(1.08) saturate(1.2);
        }

        /* Neon Bar Under Title - less glow, more subtle */
        .neon-bar {
            width: 180px;
            height: 7px;
            margin: 0 auto 1.1em auto;
            border-radius: 8px;
            background: linear-gradient(90deg, #ff4e8e 0%, #fff 50%, #e25555 100%);
            box-shadow: 0 0 8px 2px #ff4e8e55, 0 1px 4px #fff3;
            animation: neon-bar-glow 2.2s cubic-bezier(.77, 0, .18, 1) infinite alternate;
            position: relative;
            z-index: 3;
        }

        @keyframes neon-bar-glow {
            0% {
                filter: brightness(1.1) drop-shadow(0 0 4px #ff4e8e);
            }

            50% {
                filter: brightness(1.3) drop-shadow(0 0 12px #fff);
            }

            100% {
                filter: brightness(1.1) drop-shadow(0 0 4px #ff4e8e);
            }
        }

        /* Progress Bar Fill Animation */
        .bubble-progress-bar-inner {
            height: 100%;
            background: linear-gradient(90deg, #ff4e8e 0%, #e25555 100%);
            border-radius: 8px;
            box-shadow: 0 2px 12px #ff4e8e44;
            transition: width 0.7s cubic-bezier(.77, 0, .18, 1);
            width: 0%;
        }

        /* Fix: Bubbles float up from bottom, progress bar always on top */
        /* Sexy Bubbles (Pop Game) - Improved for visibility and animation */
        .sexy-bubble {
            position: fixed;
            left: 50vw;
            bottom: 0px;
            width: var(--bubble-size, 64px);
            height: var(--bubble-size, 64px);
            background: radial-gradient(circle at 60% 40%, #ff4e8e 0%, #e25555 60%, #fff0 100%);
            border-radius: 50%;
            box-shadow: 0 2px 24px #ff4e8e88, 0 0 0 4px #fff2 inset;
            z-index: 30000;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
            pointer-events: auto;
            transition: filter 0.2s, opacity 0.2s;
            filter: brightness(1.15) saturate(1.2) drop-shadow(0 2px 16px #ff4e8e88);
            opacity: 0.92;
            will-change: transform, opacity, filter;
            font-family: 'Montserrat', 'Inter', Arial, sans-serif;
            font-weight: 900;
            font-size: 1.1em;
        }

        /* Remove duplicate .sexy-bubble definition below */
        /* Floating Hearts - appear all over screen */
        #floatingHearts {
            position: fixed;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 10000;
        }

        .floating-heart {
            position: absolute;
            color: #ff4e8e;
            opacity: 0.7;
            filter: blur(0.5px) drop-shadow(0 2px 8px #ff4e8e88);
            animation: float-heart 4.5s cubic-bezier(.77, 0, .18, 1) forwards;
            will-change: transform, opacity;
            user-select: none;
        }

        @keyframes float-heart {
            0% {
                transform: translateY(0) scale(1) rotate(-8deg);
                opacity: 0.7;
            }

            60% {
                opacity: 1;
            }

            100% {
                transform: translateY(-92vh) scale(1.18) rotate(12deg);
                opacity: 0;
            }
        }

        /* Stars */
        #starField {
            position: fixed;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 9000;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.7;
            box-shadow: 0 0 8px #fff8;
            animation: twinkle 2.5s infinite alternate;
        }

        @keyframes twinkle {
            0% {
                opacity: 0.5;
                filter: blur(0.5px);
            }

            50% {
                opacity: 1;
                filter: blur(1.5px);
            }

            100% {
                opacity: 0.5;
                filter: blur(0.5px);
            }
        }

        /* Sexy Bubbles (Pop Game) - Improved for visibility and animation */
        .sexy-bubble {
            position: fixed;
            left: 50vw;
            bottom: 0px;
            width: var(--bubble-size, 64px);
            height: var(--bubble-size, 64px);
            background: radial-gradient(circle at 60% 40%, #ff4e8e 0%, #e25555 60%, #fff0 100%);
            border-radius: 50%;
            box-shadow: 0 2px 24px #ff4e8e88, 0 0 0 4px #fff2 inset;
            z-index: 2000;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
            transition: filter 0.2s, opacity 0.2s;
            filter: brightness(1.15) saturate(1.2) drop-shadow(0 2px 16px #ff4e8e88);
            opacity: 0.92;
            will-change: transform, opacity, filter;
            font-family: 'Montserrat', 'Inter', Arial, sans-serif;
            font-weight: 900;
            font-size: 1.1em;
        }

        .sexy-bubble .bubble-text {
            color: #fff;
            text-shadow: 0 2px 12px #e25555cc, 0 1px 0 #fff8;
            font-size: 1.1em;
            font-weight: 900;
            pointer-events: none;
            letter-spacing: 0.04em;
            filter: drop-shadow(0 1px 8px #ff4e8e88);
        }

        .sexy-bubble.popped {
            animation: bubble-pop 0.4s cubic-bezier(.77, 0, .18, 1) forwards !important;
            filter: brightness(1.5) saturate(2) blur(2px) opacity(0.2);
            pointer-events: none;
        }

        @keyframes bubble-rise {
            0% {
                transform: translateY(0) scale(1);
                opacity: 0.92;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(calc(-1 * var(--rise, 80vh))) scale(1.08);
                opacity: 0;
            }
        }

        @keyframes bubble-pop {
            0% {
                transform: scale(1);
                opacity: 1;
            }

            60% {
                transform: scale(1.25);
                opacity: 0.7;
            }

            100% {
                transform: scale(0.7);
                opacity: 0;
            }
        }

        @keyframes bubble-pulse {
            0% {
                filter: brightness(1.1) saturate(1.2);
            }

            50% {
                filter: brightness(1.3) saturate(1.5);
            }

            100% {
                filter: brightness(1.1) saturate(1.2);
            }
        }

        @keyframes bubble-spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes bubble-spin-right {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(180deg);
            }
        }

        @keyframes bubble-spin-left {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(-180deg);
            }
        }

        @keyframes bubble-wobble {
            0% {
                transform: scale(1) translateX(0);
            }

            20% {
                transform: scale(1.04) translateX(-6px);
            }

            50% {
                transform: scale(0.98) translateX(7px);
            }

            80% {
                transform: scale(1.03) translateX(-4px);
            }

            100% {
                transform: scale(1) translateX(0);
            }
        }
    </style>
</head>

<body>
    <div class="bg-glow"></div>
    <div class="main-container">
        <!-- Discord Profile Preview Start -->
        <!-- <div class="discord-profile-preview">
            <div class="profile-banner">
                <img src="https://cdn.discordapp.com/banners/1374205097411612682/3d2a57d416d3ea267203cd6daecce248.png?size=2048"
                    alt="Discord Banner" class="banner-img">
            </div>
            <div class="profile-avatar-row">
                <div class="profile-avatar-wrapper">
                    <img src="https://cdn.discordapp.com/avatars/1374205097411612682/10be7ba66b741be7783d8abb5e998bd2.webp?size=480"
                        alt="Discord Avatar" class="profile-avatar">
                    <span class="profile-status-dot"></span>
                </div>
            </div>
        </div> -->
        <!-- Discord Profile Preview End -->
        <img src="https://cdn.discordapp.com/banners/1374205097411612682/3d2a57d416d3ea267203cd6daecce248.png?size=2048" alt="EROSA Logo" class="wide-logo">
        <div class="status-row">
            <span class="status-dot"></span>
            <span class="status-label">Online</span>
        </div>
        <h1>EROSA</h1>
        <div class="neon-bar"></div>
        <div class="tagline">Seduction, Systemized</div>
        <div class="about">Built for OnlyFans agencies, chatter teams, and creators who don’t just play the game</div>
        <div class="about"> — they bend it —</div>
        <div class="about">EROSA turns every message into momentum, every simp into a systemized transaction.</div>
        <div class="features">
            <div><strong>Behind its sleek, dripping-heart interface lies a beast:</strong></div>
            <ul class="features-list">
                <li>Track every shift, click, moan, and message.</li>
                <li>Powerful customisations and use cases.</li>
                <li>Lightning-fast, ultra-secure, always online.</li>
                <li>Designed to seduce — built to dominate.</li>
            </ul>
        </div>
        <a href="https://discord.com/oauth2/authorize?client_id=1374205097411612682&scope=bot&permissions=8"
            class="invite-btn shimmer-btn" aria-label="Invite EROSA to your Discord">Invite EROSA to your Discord
            <span class="shimmer"></span>
        </a>
        <div class="footer">Made with <span class="heart">❤️</span> by EROSA Team</div>
    </div>
    <div class="bubble-progress-bar" id="bubbleProgressBar">
        <div class="bubble-progress-bar-inner" id="bubbleProgressBarInner"></div>
    </div>
    <div id="floatingHearts"></div>
    <div id="starField"></div>
    <script>
        'use strict';
        // EROSA Interactive Bubble & Progress Bar Logic
        (function () {
            // --- Utility Functions ---
            const randomBetween = (a, b) => a + Math.random() * (b - a);
            const pickRandom = arr => arr[Math.floor(Math.random() * arr.length)];
            const setRemoveTimeout = (el, ms) => setTimeout(() => el.remove(), ms);
            const playSound = (file, volume = 0.7) => {
                const audio = new Audio(file);
                audio.volume = volume;
                audio.play();
            };
            // --- Bubble & Moan Data ---
            const bubbleWords = ["POP ME", "BURST ME", "COME"];
            const moanWords = ["moan", "mmm", "mhmmm", "baby", "yes", "oh!", "more", "harder", "deeper"];
            const fireworkColors = ["#ff4e8e", "#e25555", "#fff", "#f7d6e6", "#b6ffcb", "#ffb347", "#b98cb3"];
            // --- State ---
            let popCount = 0;
            let bubbles = [];
            const MAX_BUBBLES = 12;
            const POPS_TO_FILL = 12;
            let barFilled = false;
            // --- DOM Helpers ---
            function createMoanWord(text, x, y, extraClass = "") {
                const moan = document.createElement('div');
                moan.className = 'moan-word' + (extraClass ? ' ' + extraClass : '');
                moan.textContent = text;
                moan.style.left = `${x}px`;
                moan.style.top = `${y}px`;
                document.body.appendChild(moan);
                return moan;
            }
            function removeBubble(bubble) {
                // Remove all event listeners by cloning and replacing
                if (bubble.parentNode) {
                    const clone = bubble.cloneNode(true);
                    bubble.parentNode.replaceChild(clone, bubble);
                    clone.remove();
                }
                bubbles = bubbles.filter(b => b !== bubble);
            }
            function getRandomPopSound() {
                const idx = Math.floor(Math.random() * 8) + 1;
                return `assets/audios/pop/pop-${String(idx).padStart(3, '0')}.mp3`;
            }
            // --- Bubble Creation & Animation ---
            function createBubble() {
                const bubble = document.createElement('div');
                bubble.className = 'sexy-bubble';
                const size = randomBetween(44, 92);
                bubble.style.setProperty('--bubble-size', `${size}px`);
                bubble.style.left = `${randomBetween(10, 90)}vw`;
                bubble.style.bottom = `0px`;
                bubble.style.setProperty('--rise', `${randomBetween(60, 90)}vh`);
                bubble.style.setProperty('--duration', `${randomBetween(6, 10)}s`);
                // Add the rise animation so bubbles float up
                bubble.style.animation = `bubble-rise var(--duration, 8s) linear forwards, bubble-pulse 1.2s infinite`;
                bubble.innerHTML = `<span class=\"bubble-text\">${pickRandom(bubbleWords)}</span>`;
                document.body.appendChild(bubble);
                bubbles.push(bubble);
                // Use { once: true } to ensure pop handler is only called once
                bubble.addEventListener('click', e => popBubble(bubble, e), { once: true });
                const removeAfter = parseFloat(bubble.style.getPropertyValue('--duration')) * 1000 + 500;
                setRemoveTimeout(bubble, removeAfter);
            }
            // --- Bubble Spawner ---
            let bubbleSpawnerRunning = false;
            function spawnBubbles() {
                if (bubbleSpawnerRunning) return;
                bubbleSpawnerRunning = true;
                function loop() {
                    while (bubbles.length < MAX_BUBBLES) createBubble();
                    setTimeout(loop, 350);
                }
                loop();
            }
            // --- Bubble Pop Logic ---
            function popBubble(bubble, e) {
                popCount++;
                updateProgressBar();
                // Get bubble center coordinates relative to viewport
                const rect = bubble.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                createFirework(centerX, centerY);
                showMoan(centerX, centerY);
                playSound(getRandomPopSound(), 0.7);
                bubble.classList.add('popped');
                setTimeout(() => removeBubble(bubble), 400);
            }
            // --- Moan & Firework Effects ---
            function showMoan(x, y) {
                const moan = createMoanWord(pickRandom(moanWords), x + randomBetween(-30, 30), y + randomBetween(-30, 30));
                setTimeout(() => moan.classList.add('show'), 10);
                setTimeout(() => moan.classList.remove('show'), 900);
                setRemoveTimeout(moan, 1200);
            }
            function createFirework(x, y) {
                const fw = document.createElement('div');
                fw.className = 'firework';
                // Fix: position firework at correct page coordinates
                fw.style.left = `${x + window.scrollX}px`;
                fw.style.top = `${y + window.scrollY}px`;
                const numParticles = 22 + Math.floor(Math.random() * 8); // 22-29
                for (let i = 0; i < numParticles; i++) {
                    const p = document.createElement('span');
                    p.className = 'fw-part';
                    // Randomize color, size, and distance
                    const color = pickRandom(fireworkColors);
                    const size = randomBetween(7, 18);
                    const angle = (i * (360 / numParticles)) + randomBetween(-8, 8);
                    const distance = randomBetween(60, 120);
                    const duration = randomBetween(700, 1200);
                    p.style.background = color;
                    p.style.width = `${size}px`;
                    p.style.height = `${size}px`;
                    p.style.borderRadius = '50%';
                    p.style.opacity = 0.92;
                    p.style.position = 'absolute';
                    p.style.left = '0px';
                    p.style.top = '0px';
                    p.animate([
                        { transform: 'scale(0.5) translate(0,0)', opacity: 1 },
                        { transform: `scale(1.2) translate(${Math.cos(angle * Math.PI / 180) * distance}px, ${Math.sin(angle * Math.PI / 180) * distance}px)`, opacity: 0 }
                    ], {
                        duration: duration,
                        easing: 'cubic-bezier(.77,0,.18,1)',
                        fill: 'forwards',
                    });
                    fw.appendChild(p);
                    setTimeout(() => p.remove(), duration + 100);
                }
                document.body.appendChild(fw);
                setRemoveTimeout(fw, 1400);
            }
            // --- Progress Bar Logic ---
            function updateProgressBar() {
                const bar = document.getElementById('bubbleProgressBar');
                const inner = document.getElementById('bubbleProgressBarInner');
                if (!bar || !inner) return;
                bar.style.display = 'flex';
                const percent = Math.min(popCount / POPS_TO_FILL, 1) * 100;
                inner.style.width = percent + '%';
                if (percent >= 100 && !barFilled) {
                    barFilled = true;
                    bar.classList.add('burst');
                    playSound('assets/audios/burst.mp3', 0.8);
                    setTimeout(() => playSound('assets/audios/mwah.mp3', 0.8), 2000);
                    burstMoanWords(bar);
                    setTimeout(() => bar.classList.remove('burst'), 13000);
                    setTimeout(() => {
                        scrollToInviteAndPulse();
                        setTimeout(() => {
                            inner.style.width = '0%';
                            popCount = 0;
                            barFilled = false;
                        }, 1200);
                    }, 1200);
                }
            }
            // --- Falling Moan Words Burst ---
            function burstMoanWords(bar) {
                const rect = bar.getBoundingClientRect();
                const barCenterX = rect.left + rect.width / 2;
                const barTop = rect.top + window.scrollY;
                for (let i = 0; i < 18; i++) {
                    const spread = randomBetween(-rect.width / 2 + 20, rect.width / 2 - 20);
                    const word = createMoanWord(pickRandom(moanWords), barCenterX + spread, barTop + 6, 'falling');
                    word.style.opacity = 1;
                    word.style.pointerEvents = 'none';
                    word.animate([
                        { transform: `translateY(0px) scale(1.1)`, opacity: 1 },
                        { transform: `translateY(${randomBetween(120, 220)}px) scale(1.25) rotate(${randomBetween(-18, 18)}deg)`, opacity: 0.1 }
                    ], {
                        duration: randomBetween(1200, 1700),
                        easing: 'cubic-bezier(.77,0,.18,1)',
                        fill: 'forwards',
                    });
                    setRemoveTimeout(word, 1800);
                }
            }
            // --- Invite Button Pulse & Scroll ---
            function scrollToInviteAndPulse() {
                const btn = document.querySelector('.invite-btn');
                if (btn) {
                    const rect = btn.getBoundingClientRect();
                    const inView = rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);
                    if (!inView) {
                        try {
                            btn.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'nearest' });
                        } catch (e) {
                            const y = rect.top + window.pageYOffset - (window.innerHeight / 2) + (rect.height / 2);
                            window.scroll({ top: y, behavior: 'smooth' });
                        }
                    }
                    setTimeout(() => btn.classList.add('pulse-continuous'), 700);
                }
            }
            // --- Add CSS for continuous pulse and falling moan words (only once) ---
            (function addBurstStyles() {
                if (document.getElementById('burst-style')) return;
                const style = document.createElement('style');
                style.id = 'burst-style';
                style.textContent = `
.moan-word.falling {
    z-index: 5000;
    font-size: 1.6em;
    opacity: 1;
    pointer-events: none;
    filter: drop-shadow(0 2px 16px #ff4e8e99) brightness(1.5);
    transition: none;
    animation: none;
}
.invite-btn.pulse-continuous {
    animation: btnpulse-strong 0.9s cubic-bezier(.77,0,.18,1) infinite, fadein 1.2s cubic-bezier(.77,0,.18,1) 1.2s both;
    filter: brightness(1.3) saturate(1.5) drop-shadow(0 0 32px #ff4e8e);
}
@keyframes btnpulse-strong {
    0% { filter: brightness(1.2) saturate(1.2) drop-shadow(0 0 16px #ff4e8e); transform: scale(1); }
    40% { filter: brightness(1.5) saturate(1.5) drop-shadow(0 0 32px #ff4e8e); transform: scale(1.08); }
    60% { filter: brightness(1.6) saturate(1.7) drop-shadow(0 0 40px #ff4e8e); transform: scale(1.13); }
    100% { filter: brightness(1.2) saturate(1.2) drop-shadow(0 0 16px #ff4e8e); transform: scale(1); }
}
`;
                document.head.appendChild(style);
            })();
            // --- Start the fun! ---
            spawnBubbles();
        })();

        // --- Floating Hearts Effect (all over screen, infinite) ---
        (function floatingHearts() {
            const heartContainer = document.getElementById('floatingHearts');
            function createHeart() {
                const heart = document.createElement('span');
                heart.className = 'floating-heart';
                heart.innerHTML = '❤';
                const size = Math.random() * 18 + 18;
                heart.style.left = Math.random() * 98 + 'vw';
                heart.style.bottom = Math.random() * 10 + 'vh';
                heart.style.fontSize = size + 'px';
                heart.style.opacity = Math.random() * 0.4 + 0.3;
                heart.style.animationDuration = (Math.random() * 2 + 3.5) + 's';
                heartContainer.appendChild(heart);
                setTimeout(() => heart.remove(), 5000);
            }
            setInterval(createHeart, 700);
        })();

        // --- Star Field Effect ---
        (function starField() {
            const starContainer = document.getElementById('starField');
            const numStars = 64;
            for (let i = 0; i < numStars; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random() * 1.5 + 1.2;
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                star.style.left = Math.random() * 100 + 'vw';
                star.style.top = Math.random() * 100 + 'vh';
                star.style.opacity = Math.random() * 0.5 + 0.5;
                star.style.animationDuration = (Math.random() * 2 + 2) + 's';
                starContainer.appendChild(star);
            }
        })();

        // --- Fix: Infinite Bubbles ---
        (function fixBubbles() {
            // Ensure bubbles are always at max count
            setInterval(() => {
                if (typeof bubbles !== 'undefined' && bubbles.length < MAX_BUBBLES) {
                    while (bubbles.length < MAX_BUBBLES) createBubble();
                }
            }, 1200);
        })();
    </script>
</body>

</html>