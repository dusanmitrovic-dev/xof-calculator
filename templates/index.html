<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EROSA – Seduction, Systemized</title>
    <link rel="icon" type="image/png"
        href="https://cdn.discordapp.com/avatars/1374205097411612682/10be7ba66b741be7783d8abb5e998bd2.webp?size=480">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Inter:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            background: linear-gradient(120deg, #18131d 0%, #2d1b2e 100%);
            color: #fff;
            font-family: 'Inter', 'Montserrat', 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: block;
            /* Allow normal document flow and scrolling */
        }

        .bg-glow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 0;
            background: radial-gradient(circle at 70% 20%, #ff4e8e33 0%, transparent 60%),
                radial-gradient(circle at 20% 80%, #e2555533 0%, transparent 60%);
            animation: bgmove 12s ease-in-out infinite alternate;
        }

        @keyframes bgmove {
            0% {
                background-position: 70% 20%, 20% 80%;
            }

            100% {
                background-position: 60% 30%, 30% 70%;
            }
        }

        .main-container {
            background: rgba(30, 18, 38, 0.82);
            border-radius: 2.5rem;
            box-shadow: 0 8px 40px 0 rgba(200, 0, 80, 0.22), 0 1.5px 12px 0 rgba(0, 0, 0, 0.12);
            padding: 3.5rem 2.5rem 2.5rem 2.5rem;
            max-width: 500px;
            width: 95vw;
            text-align: center;
            margin: 2.5rem auto 3.5rem auto;
            /* Add margin-bottom for scroll spacing */
            position: relative;
            z-index: 2;
            backdrop-filter: blur(16px) saturate(160%);
            border: 1.5px solid #ff4e8e33;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 0.2s both;
            overflow: hidden;
        }

        @keyframes fadein {
            0% {
                opacity: 0;
                transform: translateY(40px) scale(0.98);
            }

            100% {
                opacity: 1;
                transform: none;
            }
        }

        .wide-logo {
            width: 100%;
            height: auto;
            max-width: 420px;
            min-width: 0;
            max-height: 180px;
            object-fit: contain;
            margin-bottom: 1.2rem;
            margin-top: 0;
            border-top-left-radius: 2.5rem;
            border-top-right-radius: 2.5rem;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
            display: block;
            margin-left: auto;
            margin-right: auto;
            filter: drop-shadow(0 2px 32px #ff4e8e88);
            background: transparent;
            animation: logoPop 1.2s cubic-bezier(.77, 0, .18, 1) 0.4s both;
        }

        @keyframes logoPop {
            0% {
                opacity: 0;
                transform: scale(0.8) rotate(-6deg);
            }

            80% {
                opacity: 1;
                transform: scale(1.08) rotate(2deg);
            }

            100% {
                opacity: 1;
                transform: scale(1) rotate(0);
            }
        }

        .status-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.6em;
            margin-bottom: 1.2em;
        }

        .status-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: linear-gradient(135deg, #27ff60 0%, #1ed760 100%);
            box-shadow: 0 0 16px 4px #27ff60cc;
            border: 2.5px solid #fff2;
            animation: pulse 1.2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 16px 4px #27ff60cc;
            }

            50% {
                box-shadow: 0 0 32px 10px #27ff6099;
            }

            100% {
                box-shadow: 0 0 16px 4px #27ff60cc;
            }
        }

        .status-label {
            font-size: 1.08rem;
            font-weight: 700;
            color: #b6ffcb;
            letter-spacing: 0.5px;
            text-shadow: 0 1px 8px #1ed76033;
            text-transform: uppercase;
        }

        h1,
        .tagline {
            font-size: 2.6rem;
            font-weight: 900;
            margin-bottom: 0.15em;
            letter-spacing: 2px;
            font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
            font-variation-settings: 'wght' 700, 'ital' 0;
            font-style: italic;
            background: linear-gradient(90deg, #ff4e8e 0%, #e25555 40%, #fff 50%, #ff4e8e 60%, #e25555 100%);
            background-size: 200% 100%;
            background-position: 0 0;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
            animation: lightning-text 2.2s cubic-bezier(.77, 0, .18, 1) infinite;
            filter: drop-shadow(0 2px 12px #ff4e8e44);
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 0.6s both, lightning-text 2.2s cubic-bezier(.77, 0, .18, 1) infinite;
            text-shadow: 0 2px 24px #ff4e8e33, 0 1px 0 #fff1;
            letter-spacing: 0.08em;
            position: relative;
            overflow: hidden;
        }

        @keyframes lightning-text {
            0% {
                background-position: 0 0;
            }

            40% {
                background-position: 100% 0;
            }

            100% {
                background-position: 200% 0;
            }
        }

        .tagline {
            font-size: 1.35rem;
            font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
            font-style: italic;
            font-weight: 600;
            letter-spacing: 0.12em;
            margin-bottom: 0.7em;
            background: linear-gradient(90deg, #ff4e8e 0%, #e25555 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 12px #ff4e8e22, 0 1px 0 #fff1;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 0.7s both;
            position: relative;
            overflow: hidden;
        }

        .h1-loader,
        .tagline-loader {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            background: linear-gradient(120deg, rgba(255, 255, 255, 0) 0%, #fff8 30%, #ff4e8e 50%, #fff8 70%, rgba(255, 255, 255, 0) 100%);
            background-size: 200% 100%;
            mix-blend-mode: lighten;
            animation: lightning-loader 1.2s cubic-bezier(.77, 0, .18, 1) infinite;
        }

        @keyframes lightning-loader {
            0% {
                background-position: -100% 0;
                opacity: 0.7;
            }

            30% {
                opacity: 1;
            }

            50% {
                background-position: 100% 0;
                opacity: 0.9;
            }

            70% {
                opacity: 1;
            }

            100% {
                background-position: 200% 0;
                opacity: 0.7;
            }
        }

        .about {
            font-size: 1.18rem;
            color: #e0b3d0;
            margin-bottom: 2.2em;
            line-height: 1.8;
            letter-spacing: 0.2px;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 0.8s both;
        }

        .features {
            text-align: left;
            margin: 0 auto 2em auto;
            max-width: 340px;
            color: #f7d6e6;
            font-size: 1.12rem;
            background: rgba(255, 78, 142, 0.07);
            border-radius: 1.2em;
            padding: 1.1em 1.2em 1.1em 1.2em;
            box-shadow: 0 2px 12px 0 #ff4e8e11;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 1s both;
        }

        .features strong {
            color: #ff4e8e;
            font-weight: 800;
            letter-spacing: 0.5px;
        }

        .features-list {
            margin: 0.7em 0 0 0;
            padding: 0;
            list-style: none;
        }

        .features-list li {
            margin-bottom: 0.7em;
            position: relative;
            padding-left: 1.5em;
            font-weight: 500;
            letter-spacing: 0.1px;
        }

        .features-list li::before {
            content: '⟶';
            position: absolute;
            left: 0;
            color: #ff4e8e;
            font-size: 1.1em;
            top: 0.1em;
            filter: drop-shadow(0 1px 4px #ff4e8e44);
        }

        .invite-btn {
            display: inline-block;
            background: linear-gradient(90deg, #ff4e8e 0%, #e25555 100%);
            color: #fff;
            font-weight: 800;
            font-size: 1.18rem;
            padding: 1.1em 2.6em;
            border: none;
            border-radius: 999px;
            text-decoration: none;
            box-shadow: 0 4px 18px 0 rgba(255, 78, 142, 0.18);
            transition: background 0.2s, transform 0.2s, box-shadow 0.2s, filter 0.2s;
            margin-bottom: 1.5em;
            position: relative;
            overflow: hidden;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 1.2s both;
            aria-label: "Invite EROSA to your Discord";
        }

        .invite-btn::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            width: 180%;
            height: 180%;
            background: radial-gradient(circle, #ff4e8e44 0%, transparent 80%);
            transform: translate(-50%, -50%) scale(0.7);
            opacity: 0.7;
            z-index: 0;
            pointer-events: none;
            animation: btnpulse 2.2s infinite;
        }

        @keyframes btnpulse {
            0% {
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(0.7);
            }

            50% {
                opacity: 0.3;
                transform: translate(-50%, -50%) scale(1.1);
            }

            100% {
                opacity: 0.7;
                transform: translate(-50%, -50%) scale(0.7);
            }
        }

        .invite-btn:hover {
            background: linear-gradient(90deg, #e25555 0%, #ff4e8e 100%);
            transform: translateY(-2px) scale(1.045);
            box-shadow: 0 8px 32px 0 rgba(255, 78, 142, 0.28);
            filter: brightness(1.08) saturate(1.2);
        }

        .footer {
            margin-top: 2.5em;
            font-size: 1.05em;
            color: #b98cb3;
            letter-spacing: 0.7px;
            text-shadow: 0 1px 8px #ff4e8e22;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 1.4s both;
        }

        .footer .heart {
            color: #ff4e8e;
            animation: heartBeat 1.6s infinite;
        }

        @keyframes heartBeat {

            0%,
            100% {
                transform: scale(1);
            }

            10% {
                transform: scale(1.18);
            }

            20% {
                transform: scale(0.92);
            }

            30% {
                transform: scale(1.12);
            }

            40% {
                transform: scale(0.98);
            }

            50% {
                transform: scale(1.08);
            }

            60% {
                transform: scale(1);
            }
        }

        @media (max-width: 600px) {
            .main-container {
                padding: 1.2rem 0.5rem 1.5rem 0.5rem;
                max-width: 100vw;
            }
        }

        .sexy-bubble {
            position: fixed;
            z-index: 3000;
            width: var(--bubble-size, 68px);
            height: var(--bubble-size, 68px);
            min-width: 44px;
            min-height: 44px;
            background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.55) 60%, rgba(255, 78, 142, 0.18) 100%);
            opacity: 0.72;
            border-radius: 50%;
            box-shadow: 0 2px 32px 0 rgba(255, 78, 142, 0.22), 0 0 0 2px rgba(255, 78, 142, 0.18) inset, 0 1.5px 12px 0 rgba(255, 255, 255, 0.12) inset;
            backdrop-filter: blur(2.5px) saturate(1.5);
            background-clip: padding-box;
            border: 1.5px solid rgba(255, 255, 255, 0.18);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            user-select: none;
            font-family: 'Montserrat', 'Inter', sans-serif;
            font-weight: 700;
            font-size: 1.15em;
            color: #ff4e8e;
            text-shadow: 0 2px 12px #fff, 0 1px 0 #ff4e8e;
            animation: bubble-rise var(--duration, 8s) linear forwards, bubble-pulse 1.2s infinite, bubble-spin var(--spin-speed, 2.5s) linear infinite;
            transition: box-shadow 0.2s, filter 0.2s, transform 0.2s;
            will-change: transform, filter;
            pointer-events: auto;
            /* Removed forced centering so JS can control left/transform */
        }

        @keyframes bubble-spin {
            0% {
                transform: rotate(0deg) scale(1);
            }

            30% {
                transform: rotate(12deg) scale(1.04);
            }

            60% {
                transform: rotate(-10deg) scale(1.08);
            }

            100% {
                transform: rotate(360deg) scale(1);
            }
        }

        @keyframes bubble-spin-right {
            0% {
                transform: rotate(0deg) scale(1);
            }

            30% {
                transform: rotate(12deg) scale(1.04);
            }

            60% {
                transform: rotate(-10deg) scale(1.08);
            }

            100% {
                transform: rotate(360deg) scale(1);
            }
        }

        @keyframes bubble-spin-left {
            0% {
                transform: rotate(0deg) scale(1);
            }

            30% {
                transform: rotate(-12deg) scale(1.04);
            }

            60% {
                transform: rotate(10deg) scale(1.08);
            }

            100% {
                transform: rotate(-360deg) scale(1);
            }
        }

        @keyframes bubble-wobble {

            0%,
            100% {
                transform: translateX(0) scale(1);
            }

            20% {
                transform: translateX(-8px) scale(1.03);
            }

            40% {
                transform: translateX(8px) scale(0.97);
            }

            60% {
                transform: translateX(-6px) scale(1.04);
            }

            80% {
                transform: translateX(6px) scale(0.96);
            }
        }

        .sexy-bubble .bubble-text {
            width: 100%;
            text-align: center;
            font-size: 1em;
            font-weight: 700;
            color: #ff4e8e;
            text-shadow: 0 2px 12px #fff, 0 1px 0 #ff4e8e;
            pointer-events: none;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        @media (max-width: 600px) {
            .sexy-bubble {
                min-width: 32px;
                min-height: 32px;
            }
        }

        /* Progress Bar */
        .bubble-progress-bar {
            position: fixed;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
            width: 90vw;
            max-width: 420px;
            height: 14px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 8px;
            box-shadow: 0 2px 12px #ff4e8e22;
            z-index: 4000;
            overflow: hidden;
            margin-top: 12px;
            border: 1.5px solid #ff4e8e33;
            display: flex;
            align-items: center;
        }

        .bubble-progress-bar-inner {
            height: 100%;
            background: linear-gradient(90deg, #ff4e8e 0%, #e25555 100%);
            border-radius: 8px;
            box-shadow: 0 2px 12px #ff4e8e44;
            transition: width 0.35s cubic-bezier(.77, 0, .18, 1);
        }

        .bubble-progress-bar.burst {
            animation: bar-burst 0.7s cubic-bezier(.77, 0, .18, 1);
        }

        @keyframes bar-burst {
            0% {
                filter: brightness(1.2) drop-shadow(0 0 16px #ff4e8e);
            }

            60% {
                filter: brightness(2.2) drop-shadow(0 0 32px #fff);
            }

            100% {
                filter: none;
            }
        }

        /* Enhanced Firework */
        .firework {
            position: fixed;
            z-index: 120;
            pointer-events: none;
            width: 0;
            height: 0;
            filter: drop-shadow(0 0 32px #ff4e8e) brightness(2.2) saturate(1.5);
        }

        .firework .fw-part {
            position: absolute;
            left: 0;
            top: 0;
            width: 28px;
            height: 10px;
            border-radius: 5px;
            opacity: 0.98;
            box-shadow: 0 0 18px 6px #fff8;
            animation: fw-pop 1.1s cubic-bezier(.77, 0, .18, 1) forwards;
        }

        @keyframes fw-pop {
            0% {
                transform: scale(0.2) translateY(0);
                opacity: 1;
            }

            60% {
                opacity: 1;
            }

            100% {
                transform: scale(2.2) translateY(-120px);
                opacity: 0;
            }
        }

        .invite-btn.pulse {
            animation: btnpulse 0.7s infinite, fadein 1.2s cubic-bezier(.77, 0, .18, 1) 1.2s both;
            filter: brightness(1.2) saturate(1.3) drop-shadow(0 0 16px #ff4e8e);
        }

        @keyframes bubble-rise {
            0% {
                bottom: -80px;
                opacity: 0.7;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                bottom: var(--rise, 90vh);
                opacity: 0;
            }
        }

        @keyframes bubble-pulse {

            0%,
            100% {
                filter: brightness(1.1) saturate(1.2) drop-shadow(0 2px 16px #ff4e8e44);
            }

            50% {
                filter: brightness(1.3) saturate(1.5) drop-shadow(0 4px 32px #ff4e8e99) blur(1px);
            }
        }

        .sexy-bubble.popped {
            animation: bubble-pop 0.4s cubic-bezier(.77, 0, .18, 1) forwards;
            filter: blur(2px) brightness(2);
            pointer-events: none;
        }

        @keyframes bubble-pop {
            0% {
                transform: scale(1.1);
                opacity: 1;
            }

            60% {
                transform: scale(1.25) rotate(8deg);
                opacity: 0.7;
            }

            100% {
                transform: scale(0.7) rotate(-12deg);
                opacity: 0;
            }
        }

        .moan-word {
            position: fixed;
            z-index: 100;
            font-size: 1.5em;
            font-family: 'Montserrat', 'Inter', sans-serif;
            font-weight: 900;
            color: #ff4e8e;
            pointer-events: none;
            opacity: 0;
            transform: scale(0.7) rotate(-8deg);
            text-shadow: 0 2px 24px #ff4e8e99, 0 1px 0 #fff8;
            transition: opacity 0.2s, transform 0.2s;
            filter: blur(1px) brightness(1.2);
        }

        .moan-word.show {
            opacity: 1;
            transform: scale(1.18) rotate(2deg);
            filter: blur(0) brightness(1.5);
        }

        .firework {
            position: fixed;
            z-index: 120;
            pointer-events: none;
            left: 0;
            top: 0;
            width: 0;
            height: 0;
        }

        .firework .fw-part {
            position: absolute;
            left: 0;
            top: 0;
            width: 10px;
            height: 4px;
            border-radius: 2px;
            opacity: 0.85;
            animation: fw-pop 0.8s cubic-bezier(.77, 0, .18, 1) forwards;
        }

        @keyframes fw-pop {
            0% {
                transform: scale(0.2) translateY(0);
                opacity: 1;
            }

            60% {
                opacity: 1;
            }

            100% {
                transform: scale(2.2) translateY(-120px);
                opacity: 0;
            }
        }

        .discord-profile-preview {
            width: 100%;
            max-width: 420px;
            margin: 0 auto 1.2rem auto;
            position: relative;
            border-top-left-radius: 2.5rem;
            border-top-right-radius: 2.5rem;
            overflow: visible;
            z-index: 3;
        }

        .profile-banner {
            width: 100%;
            height: 120px;
            background: #23272a;
            border-top-left-radius: 2.5rem;
            border-top-right-radius: 2.5rem;
            overflow: hidden;
            position: relative;
            box-shadow: 0 2px 24px #ff4e8e22;
            animation: bannerPop 1.1s cubic-bezier(.77, 0, .18, 1) 0.2s both;
        }

        .banner-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        @keyframes bannerPop {
            0% {
                opacity: 0;
                transform: scale(1.08) translateY(-24px);
            }

            80% {
                opacity: 1;
                transform: scale(1.03) translateY(4px);
            }

            100% {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .profile-avatar-row {
            width: 100%;
            display: flex;
            justify-content: center;
            position: relative;
            margin-top: -56px;
            z-index: 4;
        }

        .profile-avatar-wrapper {
            position: relative;
            width: 112px;
            height: 112px;
        }

        .profile-avatar {
            width: 112px;
            height: 112px;
            border-radius: 50%;
            border: 6px solid #23272a;
            background: #23272a;
            box-shadow: 0 4px 32px #ff4e8e44, 0 1.5px 12px 0 #fff2;
            object-fit: cover;
            position: relative;
            right: 140px;
            z-index: 2;
            transition: box-shadow 0.2s;
        }

        .profile-avatar-wrapper:hover .profile-avatar {
            box-shadow: 0 8px 40px #ff4e8e88, 0 2px 16px #fff4;
        }

        .profile-status-dot {
            position: absolute;
            right: 140px;
            bottom: 8px;
            width: 17px;
            height: 17px;
            background: linear-gradient(135deg, #27ff60 0%, #1ed760 100%);
            border: 2px solid #23272a;
            border-radius: 50%;
            box-shadow: 0 0 16px 4px #27ff60cc;
            z-index: 3;
            animation: pulse 1.2s infinite;
        }

        @media (max-width: 600px) {
            .discord-profile-preview {
                max-width: 100vw;
            }

            .profile-banner {
                height: 80px;
            }

            .profile-avatar-row {
                margin-top: -40px;
            }

            .profile-avatar-wrapper,
            .profile-avatar {
                width: 72px;
                height: 72px;
            }

            .profile-status-dot {
                width: 16px;
                height: 16px;
                right: 4px;
                bottom: 6px;
                border-width: 2.5px;
            }
        }
    </style>
</head>

<body>
    <div class="bg-glow"></div>
    <div class="main-container">
        <!-- Discord Profile Preview Start -->
        <div class="discord-profile-preview">
            <div class="profile-banner">
                <img src="https://cdn.discordapp.com/banners/1374205097411612682/3d2a57d416d3ea267203cd6daecce248.png?size=2048"
                    alt="Discord Banner" class="banner-img">
            </div>
            <div class="profile-avatar-row">
                <div class="profile-avatar-wrapper">
                    <img src="https://cdn.discordapp.com/avatars/1374205097411612682/10be7ba66b741be7783d8abb5e998bd2.webp?size=480"
                        alt="Discord Avatar" class="profile-avatar">
                    <span class="profile-status-dot"></span>
                </div>
            </div>
        </div>
        <!-- Discord Profile Preview End -->
        <h1>EROSA</h1>
        <div class="tagline">Seduction, Systemized</div>
        <div class="about">Built for OnlyFans agencies, chatter teams, and creators who don’t just play the game</div>
        <div class="about"> — they bend it —</div>
        <div class="about">EROSA turns every message into momentum, every simp into a systemized transaction.</div>
        <div class="features">
            <div><strong>Behind its sleek, dripping-heart interface lies a beast:</strong></div>
            <ul class="features-list">
                <li>Track every shift, click, moan, and message.</li>
                <li>Powerful customisations and use cases.</li>
                <li>Lightning-fast, ultra-secure, always online.</li>
                <li>Designed to seduce — built to dominate.</li>
            </ul>
        </div>
        <a href="https://discord.com/oauth2/authorize?client_id=1374205097411612682&scope=bot&permissions=8"
            class="invite-btn">Invite EROSA to your Discord</a>
        <div class="footer">Made with <span class="heart">❤️</span> by EROSA Team</div>
    </div>
    <div class="bubble-progress-bar" id="bubbleProgressBar">
        <div class="bubble-progress-bar-inner" id="bubbleProgressBarInner"></div>
    </div>
    <script>
        // --- Sexy Soap Bubbles ---
        const bubbleWords = ["POP ME", "BURST ME", "COME"]; // Deduplicated
        const moanWords = ["moan", "mmm", "mhmmm", "baby", "yes", "oh!", "more", "harder", "deeper"];
        const fireworkColors = ["#ff4e8e", "#e25555", "#fff", "#f7d6e6", "#b6ffcb", "#ffb347", "#b98cb3"];
        let popCount = 0;
        let bubbles = [];
        const MAX_BUBBLES = 12;
        const POPS_TO_FILL = 12;
        let barFilled = false;

        const randomBetween = (a, b) => a + Math.random() * (b - a);
        const pickRandom = arr => arr[Math.floor(Math.random() * arr.length)];

        function createBubble() {
            const bubble = document.createElement('div');
            bubble.className = 'sexy-bubble';
            const size = randomBetween(44, 92);
            bubble.style.setProperty('--bubble-size', `${size}px`);
            bubble.style.left = `${randomBetween(10, 90)}vw`;
            bubble.style.bottom = `-80px`;
            bubble.style.setProperty('--rise', `${randomBetween(60, 90)}vh`);
            bubble.style.setProperty('--duration', `${randomBetween(6, 10)}s`);
            // Randomize spin direction and type
            const spinTypes = ['bubble-spin', 'bubble-spin-right', 'bubble-spin-left'];
            const spinType = pickRandom(spinTypes);
            const spinSpeed = randomBetween(1.5, 3.5);
            bubble.style.setProperty('--spin-speed', `${spinSpeed}s`);
            bubble.style.animation = `bubble-rise var(--duration, 8s) linear forwards, bubble-pulse 1.2s infinite, ${spinType} var(--spin-speed, 2.5s) linear infinite, bubble-wobble ${randomBetween(2.2, 3.2)}s ease-in-out infinite`;
            bubble.innerHTML = `<span class="bubble-text">${pickRandom(bubbleWords)}</span>`;
            document.body.appendChild(bubble);
            bubbles.push(bubble);
            bubble.addEventListener('click', e => popBubble(bubble, e));
            const removeAfter = parseFloat(bubble.style.getPropertyValue('--duration')) * 1000 + 500;
            setTimeout(() => {
                if (document.body.contains(bubble)) {
                    bubble.remove();
                    bubbles = bubbles.filter(b => b !== bubble);
                }
            }, removeAfter);
        }

        // --- Audio playback helpers ---
        function playPopSound() {
            // There are 8 pop sounds, from pop-001.mp3 to pop-008.mp3
            const popNum = String(Math.floor(Math.random() * 8) + 1).padStart(3, '0');
            const audio = new Audio('assets/audios/pop/pop-' + popNum + '.mp3');
            audio.volume = 0.7;
            audio.play();
        }

        function playBurstSound() {
            const audio = new Audio('assets/audios/burst.mp3');
            audio.volume = 0.8;
            audio.play();
        }
        
        function playMwahSound() {
            const audio = new Audio('assets/audios/mwah.mp3');
            audio.volume = 0.8;
            audio.play();
        }
        
        function popBubble(bubble, e) {
            popCount++;
            updateProgressBar();
            createFirework(e.clientX, e.clientY);
            showMoan(e.clientX, e.clientY);
            playPopSound(); // Play pop sound
            bubble.classList.add('popped');
            setTimeout(() => {
                if (document.body.contains(bubble)) bubble.remove();
                bubbles = bubbles.filter(b => b !== bubble);
            }, 400);
        }

        function showMoan(x, y) {
            const moan = document.createElement('div');
            moan.className = 'moan-word';
            moan.textContent = pickRandom(moanWords);
            moan.style.left = `${x + randomBetween(-30, 30)}px`;
            moan.style.top = `${y + randomBetween(-30, 30)}px`;
            document.body.appendChild(moan);
            setTimeout(() => moan.classList.add('show'), 10);
            setTimeout(() => moan.classList.remove('show'), 900);
            setTimeout(() => moan.remove(), 1200);
        }

        function createFirework(x, y) {
            const fw = document.createElement('div');
            fw.className = 'firework';
            fw.style.left = `${x}px`;
            fw.style.top = `${y}px`;
            for (let i = 0; i < 28; i++) {
                const p = document.createElement('span');
                p.className = 'fw-part';
                p.style.background = pickRandom(fireworkColors);
                p.style.transform = `rotate(${i * (360 / 28)}deg) translateY(-18px)`;
                fw.appendChild(p);
            }
            document.body.appendChild(fw);
            setTimeout(() => fw.remove(), 1400);
        }

        function spawnBubbles() {
            while (bubbles.length < MAX_BUBBLES) {
                createBubble();
            }
            setTimeout(spawnBubbles, 350);
        }
        spawnBubbles();

        // --- Progress Bar Logic ---
        function updateProgressBar() {
            const bar = document.getElementById('bubbleProgressBar');
            const inner = document.getElementById('bubbleProgressBarInner');
            if (!bar || !inner) return;
            bar.style.display = 'flex';
            let percent = Math.min(popCount / POPS_TO_FILL, 1) * 100;
            inner.style.width = percent + '%';
            if (percent >= 100 && !barFilled) {
                barFilled = true;
                bar.classList.add('burst');
                playBurstSound(); // Play burst sound
                setTimeout(playMwahSound, 2000); // Play mwah after burst finishes
                burstMoanWords(bar);
                setTimeout(() => bar.classList.remove('burst'), 13000);
                setTimeout(() => {
                    scrollToInviteAndPulse();
                    setTimeout(() => {
                        inner.style.width = '0%';
                        popCount = 0;
                        barFilled = false;
                    }, 1200);
                }, 1200);
            }
        }

        // --- Falling Moan Words Burst ---
        function burstMoanWords(bar) {
            const rect = bar.getBoundingClientRect();
            const barCenterX = rect.left + rect.width / 2;
            const barTop = rect.top + window.scrollY;
            const numWords = 18;
            for (let i = 0; i < numWords; i++) {
                const word = document.createElement('div');
                word.className = 'moan-word falling';
                word.textContent = pickRandom(moanWords);
                const spread = randomBetween(-rect.width / 2 + 20, rect.width / 2 - 20);
                word.style.left = `${barCenterX + spread}px`;
                word.style.top = `${barTop + 6}px`;
                word.style.opacity = 1;
                word.style.pointerEvents = 'none';
                word.animate([
                    { transform: `translateY(0px) scale(1.1)`, opacity: 1 },
                    { transform: `translateY(${randomBetween(120, 220)}px) scale(1.25) rotate(${randomBetween(-18, 18)}deg)`, opacity: 0.1 }
                ], {
                    duration: randomBetween(1200, 1700),
                    easing: 'cubic-bezier(.77,0,.18,1)',
                    fill: 'forwards',
                });
                document.body.appendChild(word);
                setTimeout(() => word.remove(), 1800);
            }
        }

        function scrollToInviteAndPulse() {
            const btn = document.querySelector('.invite-btn');
            if (btn) {
                // Check if the button is already in view
                const rect = btn.getBoundingClientRect();
                const inView = rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);
                if (!inView) {
                    // Try scrollIntoView with smooth, fallback to window.scroll if needed
                    try {
                        btn.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'nearest' });
                    } catch (e) {
                        // Fallback for older browsers
                        const y = rect.top + window.pageYOffset - (window.innerHeight / 2) + (rect.height / 2);
                        window.scroll({ top: y, behavior: 'smooth' });
                    }
                }
                setTimeout(() => {
                    startContinuousPulse(btn);
                }, 700);
            }
        }

        function startContinuousPulse(btn) {
            btn.classList.add('pulse-continuous');
        }

        // --- Add CSS for continuous pulse and falling moan words ---
        (function addBurstStyles() {
            const style = document.createElement('style');
            style.innerHTML = `
    .moan-word.falling {
        z-index: 5000;
        font-size: 1.6em;
        opacity: 1;
        pointer-events: none;
        filter: drop-shadow(0 2px 16px #ff4e8e99) brightness(1.5);
        transition: none;
        animation: none;
    }
    .invite-btn.pulse-continuous {
        animation: btnpulse-strong 0.9s cubic-bezier(.77,0,.18,1) infinite, fadein 1.2s cubic-bezier(.77,0,.18,1) 1.2s both;
        filter: brightness(1.3) saturate(1.5) drop-shadow(0 0 32px #ff4e8e);
    }
    @keyframes btnpulse-strong {
        0% { filter: brightness(1.2) saturate(1.2) drop-shadow(0 0 16px #ff4e8e); transform: scale(1); }
        40% { filter: brightness(1.5) saturate(1.5) drop-shadow(0 0 32px #ff4e8e); transform: scale(1.08); }
        60% { filter: brightness(1.6) saturate(1.7) drop-shadow(0 0 40px #ff4e8e); transform: scale(1.13); }
        100% { filter: brightness(1.2) saturate(1.2) drop-shadow(0 0 16px #ff4e8e); transform: scale(1); }
    }
    `;
            document.head.appendChild(style);
        })();
    </script>
</body>

</html>