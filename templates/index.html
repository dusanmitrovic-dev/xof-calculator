<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>EROSA – Seduction, Systemized</title>
    <link rel="icon" type="image/png"
        href="https://cdn.discordapp.com/avatars/1374205097411612682/10be7ba66b741be7783d8abb5e998bd2.webp?size=480">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Inter:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            background: linear-gradient(120deg, #18131d 0%, #2d1b2e 100%);
            color: #fff;
            font-family: 'Inter', 'Montserrat', 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: block;
        }

        .bg-glow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 0;
            background: radial-gradient(circle at 70% 20%, #ff4e8e33 0%, transparent 60%),
                radial-gradient(circle at 20% 80%, #e2555533 0%, transparent 60%);
            animation: bgmove 12s ease-in-out infinite alternate;
        }

        @keyframes bgmove {
            0% {
                background-position: 70% 20%, 20% 80%;
            }

            100% {
                background-position: 60% 30%, 30% 70%;
            }
        }

        /* --- Bubble Spin Animation (Single Definition) --- */
        @keyframes bubble-spin {
            0% {
                transform: rotate(0deg) scale(1);
            }

            30% {
                transform: rotate(var(--spin-angle, 12deg)) scale(1.04);
            }

            60% {
                transform: rotate(calc(var(--spin-angle, -10deg) * -1)) scale(1.08);
            }

            100% {
                transform: rotate(360deg) scale(1);
            }
        }

        .bubble-spin {
            animation: bubble-spin var(--spin-speed, 2.5s) linear infinite;
        }

        /* Use --spin-angle: 12deg or -12deg for direction */

        .main-container {
            background: rgba(30, 18, 38, 0.82);
            border-radius: 2.5rem;
            box-shadow: 0 8px 40px 0 rgba(200, 0, 80, 0.22), 0 1.5px 12px 0 rgba(0, 0, 0, 0.12);
            padding: 3.5rem 2.5rem 2.5rem 2.5rem;
            max-width: 500px;
            width: 95vw;
            text-align: center;
            margin: 2.5rem auto 3.5rem auto;
            /* Add margin-bottom for scroll spacing */
            /* position: relative; */
            z-index: 2;
            backdrop-filter: blur(16px) saturate(160%);
            border: 1.5px solid #ff4e8e33;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 0.2s both;
            overflow: hidden;
        }

        @keyframes fadein {
            0% {
                opacity: 0;
                transform: translateY(40px) scale(0.98);
            }

            100% {
                opacity: 1;
                transform: none;
            }
        }

        .wide-logo {
            width: 100%;
            height: auto;
            max-width: 420px;
            min-width: 0;
            max-height: 180px;
            object-fit: contain;
            margin-bottom: 1.2rem;
            margin-top: 0;
            border-top-left-radius: 2.5rem;
            border-top-right-radius: 2.5rem;
            border-bottom-left-radius: 1.5rem;
            border-bottom-right-radius: 1.5rem;
            display: block;
            margin-left: auto;
            margin-right: auto;
            filter: drop-shadow(0 18px 19px #ff4e8e88);
            background: transparent;
            animation: logoPop 1.2s cubic-bezier(.77, 0, .18, 1) 0.4s both;
        }

        @keyframes logoPop {
            0% {
                opacity: 0;
                transform: scale(0.8) rotate(-6deg);
            }

            80% {
                opacity: 1;
                transform: scale(1.08) rotate(2deg);
            }

            100% {
                opacity: 1;
                transform: scale(1) rotate(0);
            }
        }

        .status-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.6em;
            margin-bottom: 1.2em;
        }

        .status-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: linear-gradient(135deg, #27ff60 0%, #1ed760 100%);
            box-shadow: 0 0 16px 4px #27ff60cc;
            border: 2.5px solid #fff2;
            animation: pulse 1.2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 16px 4px #27ff60cc;
            }

            50% {
                box-shadow: 0 0 32px 10px #27ff6099;
            }

            100% {
                box-shadow: 0 0 16px 4px #27ff60cc;
            }
        }

        .status-label {
            font-size: 1.08rem;
            font-weight: 700;
            color: #b6ffcb;
            letter-spacing: 0.5px;
            text-shadow: 0 1px 8px #1ed76033;
            text-transform: uppercase;
        }

        h1,
        .tagline {
            font-size: 2.6rem;
            font-weight: 900;
            margin-bottom: 0.15em;
            letter-spacing: 2px;
            font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
            font-variation-settings: 'wght' 700, 'ital' 0;
            font-style: italic;
            background: linear-gradient(90deg, #ff4e8e 0%, #ff1e56 25%, #fff 50%, #ff1e56 75%, #ff4e8e 100%);
            filter: drop-shadow(0 0 18px #ff4e8e88);
            background-size: 200% 100%;
            background-position: 0 0;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
            animation: lightning-text 2.2s cubic-bezier(.77, 0, .18, 1) infinite;
            filter: drop-shadow(0 2px 12px #ff4e8e44);
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 0.6s both, lightning-text 2.2s cubic-bezier(.77, 0, .18, 1) infinite;
            text-shadow: 0 2px 24px #ff4e8e33, 0 1px 0 #fff1;
            letter-spacing: 0.08em;
            position: relative;
            overflow: hidden;
        }

        @keyframes lightning-text {
            0% {
                background-position: 0 0;
            }

            40% {
                background-position: 100% 0;
            }

            100% {
                background-position: 200% 0;
            }
        }

        .tagline {
            font-size: 1.35rem;
            font-family: 'Montserrat', 'Inter', 'Segoe UI', Arial, sans-serif;
            font-style: italic;
            font-weight: 600;
            letter-spacing: 0.12em;
            margin-bottom: 0.7em;
            background: linear-gradient(90deg, #ff4e8e 0%, #e25555 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 12px #ff4e8e22, 0 1px 0 #fff1;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 0.7s both;
            position: relative;
            overflow: hidden;
        }

        .h1-loader,
        .tagline-loader {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            background: linear-gradient(120deg, rgba(255, 255, 255, 0) 0%, #fff8 30%, #ff4e8e 50%, #fff8 70%, rgba(255, 255, 255, 0) 100%);
            background-size: 200% 100%;
            mix-blend-mode: lighten;
            animation: lightning-loader 1.2s cubic-bezier(.77, 0, .18, 1) infinite;
        }

        @keyframes lightning-loader {
            0% {
                background-position: -100% 0;
                opacity: 0.7;
            }

            30% {
                opacity: 1;
            }

            50% {
                background-position: 100% 0;
                opacity: 0.9;
            }

            70% {
                opacity: 1;
            }

            100% {
                background-position: 200% 0;
                opacity: 0.7;
            }
        }

        .about {
            font-size: 1.22rem;
            color: #fff;
            margin-bottom: 2.2em;
            line-height: 1.85;
            letter-spacing: 0.25px;
            font-weight: 600;
            text-shadow: 0 2px 18px #ff4e8e44, 0 1px 0 #fff2;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 0.8s both;
        }

        .features {
            text-align: left;
            margin: 0 auto 2em auto;
            max-width: 340px;
            color: #fff;
            font-size: 1.15rem;
            background: rgba(255, 78, 142, 0.13);
            border-radius: 1.2em;
            padding: 1.2em 1.3em 1.2em 1.3em;
            box-shadow: 0 4px 24px 0 #ff4e8e22;
            font-weight: 500;
            letter-spacing: 0.18px;
            text-shadow: 0 2px 16px #ff4e8e33, 0 1px 0 #fff2;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 1s both;
        }

        .features strong {
            color: #ff4e8e;
            font-weight: 800;
            letter-spacing: 0.5px;
        }

        .features-list {
            margin: 0.7em 0 0 0;
            padding: 0;
            list-style: none;
        }

        .features-list li {
            margin-bottom: 0.7em;
            position: relative;
            padding-left: 1.5em;
            font-weight: 600;
            letter-spacing: 0.18px;
            color: #ffe6f7;
            text-shadow: 0 2px 12px #ff4e8e33, 0 1px 0 #fff2;
            line-height: 1.6;
        }

        .features-list li::before {
            content: '⟶';
            position: absolute;
            left: 0;
            color: #ff4e8e;
            font-size: 1.1em;
            top: 0.1em;
            filter: drop-shadow(0 1px 4px #ff4e8e44);
        }

        /* Invite button: gradient, shadow, and hover for premium look */
        .invite-btn {
            background: linear-gradient(90deg, #ff4e8e 0%, #e25555 100%);
            color: #fff;
            font-weight: 800;
            border: none;
            border-radius: 999px;
            box-shadow: 0 4px 18px 0 rgba(255, 78, 142, 0.18);
            transition: background 0.2s, transform 0.2s, box-shadow 0.2s, filter 0.2s;
        }

        .invite-btn:hover {
            background: linear-gradient(90deg, #e25555 0%, #ff4e8e 100%);
            transform: translateY(-2px) scale(1.045);
            box-shadow: 0 8px 32px 0 rgba(255, 78, 142, 0.28);
            filter: brightness(1.08) saturate(1.2);
        }

        .footer {
            margin-top: 2.5em;
            font-size: 1.05em;
            color: #b98cb3;
            letter-spacing: 0.7px;
            text-shadow: 0 1px 8px #ff4e8e22;
            animation: fadein 1.2s cubic-bezier(.77, 0, .18, 1) 1.4s both;
        }

        .footer .heart {
            color: #ff4e8e;
            animation: heartBeat 1.6s infinite;
        }

        @keyframes heartBeat {

            0%,
            100% {
                transform: scale(1);
            }

            10% {
                transform: scale(1.18);
            }

            20% {
                transform: scale(0.92);
            }

            30% {
                transform: scale(1.12);
            }

            40% {
                transform: scale(0.98);
            }

            50% {
                transform: scale(1.08);
            }

            60% {
                transform: scale(1);
            }
        }

        @media (max-width: 900px) {
            .main-container {
                max-width: 98vw;
                padding: 1.2rem 0.7rem 1.5rem 0.7rem;
                border-radius: 1.5rem;
                margin: 1.5rem auto 2rem auto;
            }

            .features {
                max-width: 98vw;
                font-size: 1em;
                padding: 1.2em 0.8em;
                border-radius: 1em;
            }

            .bubble-progress-bar {
                max-width: 98vw;
            }

            .discord-profile-preview {
                max-width: 98vw;
            }
        }

        @media (max-width: 600px) {
            .main-container {
                padding: 0.7rem 0.1rem 1.2rem 0.1rem;
                max-width: 100vw;
                border-radius: 1rem;
                margin: 0.7rem auto 1.2rem auto;
                box-shadow: 0 2px 16px 0 rgba(200, 0, 80, 0.10);
            }

            .features {
                max-width: 100vw;
                font-size: 1em;
                padding: 1em 0.2em 1em 0.2em;
                border-radius: 0.7em;
                margin-bottom: 1.2em;
                background: rgba(255, 78, 142, 0.10);
                box-shadow: 0 2px 12px 0 #ff4e8e11;
            }

            .bubble-progress-bar {
                max-width: 100vw;
                height: 9px;
                margin-top: 6px;
                border-radius: 6px;
            }

            .discord-profile-preview {
                max-width: 100vw;
                border-radius: 1rem 1rem 0 0;
                margin-bottom: 0.7rem;
                background: none;
            }

            .profile-banner {
                height: 38px;
                border-radius: 1rem 1rem 0 0;
                box-shadow: 0 1px 8px #ff4e8e22;
            }

            .profile-avatar-row {
                margin-top: -24px;
            }

            .profile-avatar-wrapper {
                width: 54px;
                height: 54px;
                left: 50%;
                bottom: -27px;
                transform: translateX(-50%);
            }

            .profile-avatar {
                width: 54px;
                height: 54px;
                border-width: 2px;
                right: 0;
                top: 0;
                box-shadow: 0 2px 8px #ff4e8e44;
            }

            .profile-status-dot {
                width: 11px;
                height: 11px;
                left: 18px;
                top: -2px;
                transform: translateX(4px);
                border-width: 1.5px;
            }

            .erosa-title {
                margin-top: 1.1em;
                font-size: 1.5em;
                letter-spacing: 0.04em;
            }

            .erosa-title-small {
                font-size: 1.1em;
            }

            .bend-impact {
                font-size: 1.1em;
                margin: 0.2em 0 0.5em 0;
            }

            .tagline {
                font-size: 1.08em;
                margin-bottom: 0.5em;
            }

            .about {
                font-size: 1em;
                margin-bottom: 1em;
            }

            .features-list li {
                font-size: 1em;
                margin-bottom: 0.5em;
                padding-left: 1.1em;
            }

            .features-list li::before {
                font-size: 1.2em;
                left: -0.2em;
            }

            .invite-btn {
                font-size: 1.08em;
                padding: 1em 0;
                width: 100%;
                border-radius: 1.5em;
                margin-bottom: 1.2em;
                margin-top: 0.7em;
                box-shadow: 0 2px 12px #ff4e8e33;
            }

            .footer {
                font-size: 0.95em;
                margin-top: 1.2em;
                text-align: center;
            }
        }

        @media (max-width: 400px) {
            .main-container {
                padding: 0.2rem 0.01rem 0.5rem 0.01rem;
                border-radius: 0.6rem;
            }

            .features {
                font-size: 0.92em;
                border-radius: 0.4em;
            }

            .invite-btn {
                font-size: 0.92em;
                padding: 0.7em 0.2em;
            }
        }

        /* Starfield: always subtle, never above content */
        .starfield {
            pointer-events: none;
            z-index: 0 !important;
            opacity: 0.5;
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        .star {
            position: absolute;
            border-radius: 50%;
            background: linear-gradient(135deg, #fff 60%, #ff4e8e 100%);
            box-shadow: 0 0 8px 2px #fff8, 0 0 16px 4px #ff4e8e33;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .diagonal-star {
            position: absolute;
            border-radius: 50%;
            box-shadow: 0 0 16px 4px #fff8, 0 0 32px 8px #ff4e8e44;
            pointer-events: none;
            z-index: 1;
        }

        .diagonal-star-trail {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
            filter: blur(1.5px);
        }

        /* Invite button: continuous pulse for call-to-action */
        .pulse-continuous {
            animation: pulse-continuous 1.2s infinite cubic-bezier(.77, 0, .18, 1);
        }

        @keyframes pulse-continuous {
            0%,
            100% {
                filter: brightness(1.08) saturate(1.2) drop-shadow(0 0 12px #ff4e8e88);
            }

            50% {
                filter: brightness(1.18) saturate(1.4) drop-shadow(0 0 32px #ff4e8e);
            }
        }

        /* Accessibility: focus style for invite button */
        .invite-btn:focus {
            outline: 3px solid #ff4e8e;
            outline-offset: 2px;
            box-shadow: 0 0 0 4px #ff4e8e44, 0 8px 32px 0 rgba(255, 78, 142, 0.28);
        }

        .skip-link {
            position: absolute;
            left: -999px;
            top: auto;
            width: 1px;
            height: 1px;
            overflow: hidden;
            z-index: 10000;
            background: #ff4e8e;
            color: #fff;
            padding: 0.7em 1.2em;
            border-radius: 1em;
            font-weight: 700;
            font-size: 1em;
            transition: left 0.2s;
        }

        .skip-link:focus {
            left: 10px;
            top: 10px;
            width: auto;
            height: auto;
            outline: 3px solid #fff;
            box-shadow: 0 0 0 4px #ff4e8e;
            background: #18131d;
            color: #ff4e8e;
        }

        .main-container:focus {
            outline: 3px solid #ff4e8e;
            outline-offset: 4px;
        }

        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>

<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <div class="bg-glow" aria-hidden="true"></div>
    <main id="main-content" class="main-container" tabindex="0">
        <!-- Discord Profile Preview Start -->
        <div class="discord-profile-preview" aria-label="EROSA Discord profile preview">
            <span class="visually-hidden" lang="en">EROSA Discord profile preview</span>
            <div class="profile-banner">
                <img src="https://cdn.discordapp.com/banners/1374205097411612682/3d2a57d416d3ea267203cd6daecce248.png?size=2048"
                    alt="Discord profile banner for EROSA bot" class="wide-logo" loading="lazy" decoding="async" aria-hidden="true" />
            </div>
            <div class="profile-avatar-row">
                <div class="profile-avatar-wrapper">
                    <img src="https://cdn.discordapp.com/avatars/1374205097411612682/10be7ba66b741be7783d8abb5e998bd2.webp?size=480"
                        alt="Discord avatar for EROSA bot" class="profile-avatar" loading="lazy" decoding="async" aria-hidden="true" />
                    <span class="profile-status-dot" role="img" aria-label="Online status: online"></span>
                </div>
            </div>
        </div>
        <!-- Discord Profile Preview End -->
        <h1 class="erosa-title">EROSA</h1>
        <div class="tagline">Seduction, Systemized</div>
        <div class="about">Built for OnlyFans agencies, chatter teams, and creators who don’t just play the game</div>
        <div class="about"><span class="bend-impact">they bend it</span></div>
        <div class="about"><span class="erosa-title-small">EROSA</span> turns every message into momentum, every simp
            into a
            systemized transaction.</div>
        <section class="features">
            <div><strong>Behind its sleek, dripping-heart interface lies a beast:</strong></div>
            <ul class="features-list">
                <li>Track every shift, click, moan, and message.</li>
                <li>Powerful customisations and use cases.</li>
                <li>Lightning-fast, ultra-secure, always online.</li>
                <li>Designed to seduce — built to dominate.</li>
            </ul>
        </section>
        <a href="https://discord.com/oauth2/authorize?client_id=1374205097411612682&scope=bot&permissions=8"
            class="invite-btn" aria-label="Invite EROSA bot to your Discord server" rel="noopener noreferrer" aria-current="page">Invite <span class="erosa-title">EROSA</span> to your Discord</a>
        <div class="footer" role="status" aria-live="polite" tabindex="0">Made with <span class="heart">❤️</span> by <span class="erosa-title-small">EROSA</span> Team
        </div>
    </main>
    <div class="bubble-progress-bar" id="bubbleProgressBar" aria-label="Bubble progress bar">
        <div class="bubble-progress-bar-inner" id="bubbleProgressBarInner"></div>
    </div>
    <!-- Star Effect Start -->
    <div class="starfield" aria-hidden="true"></div>
    <!-- Star Effect End -->
    <div id="lowPerfToggleContainer"
        style="position:fixed;right:10px;z-index:9999;background:rgba(30,18,38,0.92);border-radius:1em;padding:0.7em 1.2em;box-shadow:0 2px 12px #ff4e8e44;font-size:1em;font-weight:700;color:#ff4e8e;user-select:none;cursor:pointer;">
        <label style="cursor:pointer;">
            <input type="checkbox" id="lowPerfToggle" style="vertical-align:middle;margin-right:0.5em;">Low Performance
            Mode
        </label>
    </div>
    <script>
        // Prevent browser from restoring scroll position on reload
        if ('scrollRestoration' in history) {
            history.scrollRestoration = 'manual';
        }

        // --- Low Performance Mode Detection & Toggle ---
        function detectLowPerf() {
            const mem = navigator.deviceMemory || 0;
            const cores = navigator.hardwareConcurrency || 0;
            const ua = navigator.userAgent;
            if (mem && mem <= 2) return true;
            if (cores && cores <= 2) return true;
            if (/Android [1-7]|iPhone OS [1-9]|Mobi|Opera Mini|UCBrowser|KaiOS/i.test(ua)) return true;
            return false;
        }

        function setLowPerfMode(enabled) {
            localStorage.setItem('lowPerfMode', enabled ? '1' : '0');
            window.LOW_PERF_MODE = !!enabled;
            document.getElementById('lowPerfToggle').checked = !!enabled;
            location.reload();
        }

        (function () {
            let stored = localStorage.getItem('lowPerfMode');
            if (stored === null) {
                window.LOW_PERF_MODE = detectLowPerf();
                localStorage.setItem('lowPerfMode', window.LOW_PERF_MODE ? '1' : '0');
            } else {
                window.LOW_PERF_MODE = stored === '1';
            }
            document.addEventListener('DOMContentLoaded', function () {
                const toggle = document.getElementById('lowPerfToggle');
                if (toggle) {
                    toggle.checked = !!window.LOW_PERF_MODE;
                    toggle.addEventListener('change', function () {
                        setLowPerfMode(this.checked);
                    });
                }
            });
        })();

        // --- Feature Functions (real or ultra-lightweight for low perf mode) ---
        const Features = (function() {
            if (window.LOW_PERF_MODE) {
                // --- Ultra-lightweight static starfield ---
                document.addEventListener('DOMContentLoaded', function () {
                    const starfield = document.querySelector('.starfield');
                    if (!starfield) return;
                    // Remove any animation from .star via style
                    const style = document.createElement('style');
                    style.innerHTML = `.star { animation: none !important; }`;
                    document.head.appendChild(style);
                    // Render a few static stars
                    for (let i = 0; i < 18; i++) {
                        const star = document.createElement('div');
                        star.className = 'star';
                        const size = Math.random() * 0.18 + 0.12;
                        star.style.width = `${size}em`;
                        star.style.height = `${size}em`;
                        star.style.left = `${Math.random() * 100}%`;
                        star.style.top = `${Math.random() * 100}%`;
                        star.style.opacity = (Math.random() * 0.5 + 0.3).toFixed(2);
                        starfield.appendChild(star);
                    }
                });
                // --- No-op for all heavy features ---
                const noop = function(){};
                // --- Progress bar: only fill, no burst, no moan, no scroll ---
                let popCount = 0;
                const POPS_TO_FILL = 8;
                function updateProgressBar() {
                    const bar = document.getElementById('bubbleProgressBar');
                    const inner = document.getElementById('bubbleProgressBarInner');
                    if (!bar || !inner) return;
                    bar.style.display = 'flex';
                    let percent = Math.min(popCount / POPS_TO_FILL, 1) * 100;
                    inner.style.width = percent + '%';
                }
                // --- Bubble pop: just increment progress bar ---
                document.body.addEventListener('click', function (e) {
                    const bubble = e.target.closest('.sexy-bubble');
                    if (bubble && !bubble.classList.contains('popped')) {
                        popCount++;
                        updateProgressBar();
                        bubble.classList.add('popped');
                        setTimeout(() => { if (bubble.parentNode) bubble.remove(); }, 300);
                    }
                });
                // --- No bubble spawn, no fireworks, no moan, no diagonal stars ---
                return {
                    createBubble: noop,
                    removeBubble: noop,
                    playSound: noop,
                    popBubble: noop,
                    createFirework: noop,
                    burstMoanWords: noop,
                    showMoan: noop,
                    spawnBubbles: noop,
                    updateProgressBar,
                    scrollToInviteAndPulse: noop,
                    startContinuousPulse: noop
                };
            }
            // --- Config Object for Constants ---
            const CONFIG = {
                BUBBLE_WORDS: ["POP ME", "BURST ME", "COME"],
                MOAN_WORDS: ["moan", "mmm", "mhmmm", "baby", "yes", "oh!", "more", "harder", "deeper"],
                FIREWORK_COLORS: ["#ff4e8e", "#e25555", "#fff", "#f7d6e6", "#b6ffcb", "#ffb347", "#b98cb3"],
                MAX_BUBBLES: window.innerWidth < 600 ? 3 : 6,
                POPS_TO_FILL: 12,
                NUM_FIREWORK_PARTS: 28,
                NUM_BURST_MOAN_WORDS: 18,
                STAR_COUNT: 64,
                DIAGONAL_STAR_COLORS: [
                    'rgba(255,255,255,0.95)',
                    'rgba(255,78,142,0.85)',
                    'rgba(182,255,203,0.85)',
                    'rgba(185,140,179,0.85)',
                    'rgba(255,179,71,0.85)'
                ],
                DIAGONAL_TRAIL_LENGTH: 4,
                DIAGONAL_TRAIL_FADE: 0.22,
                DIAGONAL_SPAWN_INTERVAL: 1700,
                DIAGONAL_MAX_STARS: 3
            };
            // --- Utility Functions ---
            const randomBetween = (a, b) => a + Math.random() * (b - a);
            const pickRandom = arr => arr[Math.floor(Math.random() * arr.length)];
            // --- Unified Sound Function ---
            function playSound(type) {
                let src = '';
                let volume = 0.7;
                if (type === 'pop') {
                    const popNum = String(Math.floor(Math.random() * 8) + 1).padStart(3, '0');
                    src = 'assets/audios/pop/pop-' + popNum + '.mp3';
                } else if (type === 'burst') {
                    src = 'assets/audios/burst.mp3';
                    volume = 0.8;
                } else if (type === 'mwah') {
                    src = 'assets/audios/mwah.mp3';
                    volume = 0.8;
                }
                if (src) {
                    const audio = new Audio(src);
                    audio.volume = volume;
                    audio.play();
                }
            }
            // --- Bubble Logic ---
            let popCount = 0;
            let bubbles = [];
            let barFilled = false;
            let bubbleSpawnTimeout;
            function createBubble() {
                const bubble = document.createElement('div');
                bubble.className = 'sexy-bubble bubble-spin';
                bubble.style.setProperty('--spin-angle', pickRandom([12, -12]) + 'deg');
                let size = randomBetween(65, 110);
                if (window.innerWidth < 600) size *= 0.8;
                bubble.style.setProperty('--bubble-size', `${size}px`);
                bubble.style.left = `${randomBetween(10, 90)}vw`;
                bubble.style.bottom = `-80px`;
                bubble.style.setProperty('--rise', `${randomBetween(60, 90)}vh`);
                const duration = randomBetween(6, 10);
                bubble.style.setProperty('--duration', `${duration}s`);
                bubble.style.setProperty('--spin-speed', `${randomBetween(1.5, 3.5)}s`);
                bubble.style.animation = `bubble-rise var(--duration, 8s) linear forwards, bubble-pulse 1.2s infinite, bubble-wobble ${randomBetween(2.2, 3.2)}s ease-in-out infinite`;
                bubble.innerHTML = `<span class="bubble-text">${pickRandom(CONFIG.BUBBLE_WORDS)}</span>`;
                document.body.appendChild(bubble);
                bubbles.push(bubble);
                setTimeout(() => removeBubble(bubble), duration * 1000 + 500);
            }
            function removeBubble(bubble) {
                if (bubble.parentNode) bubble.remove();
                bubbles = bubbles.filter(b => b !== bubble);
            }
            // --- Throttled Bubble Spawning ---
            function spawnBubbles() {
                if (document.hidden) {
                    bubbleSpawnTimeout = setTimeout(spawnBubbles, 1000);
                    return;
                }
                while (bubbles.length < CONFIG.MAX_BUBBLES) {
                    createBubble();
                }
                bubbleSpawnTimeout = setTimeout(spawnBubbles, 400);
            }
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden) spawnBubbles();
                else if (bubbleSpawnTimeout) clearTimeout(bubbleSpawnTimeout);
            });
            spawnBubbles();
            // --- Bubble Pop ---
            function popBubble(bubble, e) {
                if (!bubble.classList.contains('popped')) {
                    popCount++;
                    updateProgressBar();
                    showMoan(e.clientX, e.clientY);
                    playSound('pop');
                    createFirework(e.clientX, e.clientY);
                    bubble.classList.add('popped');
                    setTimeout(() => removeBubble(bubble), 400);
                }
            }
            // --- Firework ---
            function createFirework(x, y) {
                const fw = document.createElement('div');
                fw.className = 'firework';
                fw.style.left = `${x}px`;
                fw.style.top = `${y}px`;
                for (let i = 0; i < CONFIG.NUM_FIREWORK_PARTS; i++) {
                    const p = document.createElement('span');
                    p.className = 'fw-part';
                    p.style.background = pickRandom(CONFIG.FIREWORK_COLORS);
                    const angle = (i * (360 / CONFIG.NUM_FIREWORK_PARTS)) + randomBetween(-8, 8);
                    const rad = angle * Math.PI / 180;
                    const distance = randomBetween(60, 120);
                    const tx = Math.cos(rad) * distance;
                    const ty = Math.sin(rad) * distance;
                    p.animate([
                        { transform: 'translate(0, 0) scale(0.2)', opacity: 1 },
                        { transform: `translate(${tx}px, ${ty}px) scale(1.2)`, opacity: 0 }
                    ], {
                        duration: 900,
                        easing: 'cubic-bezier(.77,0,.18,1)',
                        fill: 'forwards',
                    });
                    fw.appendChild(p);
                }
                document.body.appendChild(fw);
                setTimeout(() => fw.remove(), 1000);
            }
            // --- Moan Words ---
            function burstMoanWords(bar) {
                const rect = bar.getBoundingClientRect();
                const barCenterX = rect.left + rect.width / 2;
                const barTop = rect.top + window.scrollY;
                for (let i = 0; i < CONFIG.NUM_BURST_MOAN_WORDS; i++) {
                    const word = document.createElement('div');
                    word.className = 'moan-word falling';
                    word.textContent = pickRandom(CONFIG.MOAN_WORDS);
                    const spread = randomBetween(-rect.width / 2 + 20, rect.width / 2 - 20);
                    word.style.left = `${barCenterX + spread}px`;
                    word.style.pointerEvents = 'none';
                    word.style.zIndex = 5000;
                    word.style.top = `${barTop + 6}px`;
                    word.animate([
                        { transform: `translateY(0px) scale(1.1)`, opacity: 1 },
                        { transform: `translateY(${randomBetween(120, 220)}px) scale(1.25) rotate(${randomBetween(-18, 18)}deg)`, opacity: 0.1 }
                    ], {
                        duration: randomBetween(1200, 1700),
                        easing: 'cubic-bezier(.77, 0, .18, 1)',
                        fill: 'forwards',
                    });
                    document.body.appendChild(word);
                    setTimeout(() => word.remove(), 1800);
                }
            }
            function showMoan(x, y) {
                const moan = document.createElement('div');
                moan.className = 'moan-word';
                moan.textContent = pickRandom(CONFIG.MOAN_WORDS);
                moan.style.zIndex = 9999;
                moan.style.left = `${x + randomBetween(-30, 30)}px`;
                moan.style.top = `${y + randomBetween(-30, 30)}px`;
                document.body.appendChild(moan);
                requestAnimationFrame(() => moan.classList.add('show'));
                setTimeout(() => moan.classList.remove('show'), 900);
                setTimeout(() => moan.remove(), 1200);
            }
            // --- Progress Bar Logic ---
            function updateProgressBar() {
                const bar = document.getElementById('bubbleProgressBar');
                const inner = document.getElementById('bubbleProgressBarInner');
                if (!bar || !inner) return;
                bar.style.display = 'flex';
                let percent = Math.min(popCount / CONFIG.POPS_TO_FILL, 1) * 100;
                inner.style.width = percent + '%';
                if (percent >= 100 && !barFilled) {
                    barFilled = true;
                    bar.classList.add('burst');
                    playSound('burst');
                    setTimeout(() => playSound('mwah'), 2000);
                    burstMoanWords(bar);
                    setTimeout(() => bar.classList.remove('burst'), 13000);
                    setTimeout(() => {
                        scrollToInviteAndPulse();
                        setTimeout(() => {
                            inner.style.width = '0%';
                            popCount = 0;
                            barFilled = false;
                        }, 1200);
                    }, 1200);
                }
            }
            function scrollToInviteAndPulse() {
                const btn = document.querySelector('.invite-btn');
                if (btn) {
                    const rect = btn.getBoundingClientRect();
                    const inView = rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);
                    if (!inView) {
                        try {
                            btn.scrollIntoView({ behavior: 'smooth', block: 'center', inline: 'nearest' });
                        } catch (e) {
                            const y = rect.top + window.pageYOffset - (window.innerHeight / 2) + (rect.height / 2);
                            window.scroll({ top: y, behavior: 'smooth' });
                        }
                    }
                    setTimeout(() => {
                        startContinuousPulse(btn);
                    }, 700);
                }
            }
            function startContinuousPulse(btn) {
                btn.classList.add('pulse-continuous');
            }
            // --- Starfield Effect ---
            (function createStarfield() {
                const starfield = document.querySelector('.starfield');
                if (!starfield) return;
                for (let i = 0; i < CONFIG.STAR_COUNT; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    const size = Math.random() * 0.2 + 0.12;
                    star.style.width = `${size}em`;
                    star.style.height = `${size}em`;
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.top = `${Math.random() * 100}%`;
                    star.style.opacity = (Math.random() * 0.5 + 0.2).toFixed(2);
                    star.style.animationDelay = `${Math.random() * 6}s`;
                    starfield.appendChild(star);
                }
            })();
            // --- Event Delegation for Bubble Popping (robust) ---
            document.body.addEventListener('click', function (e) {
                const bubble = e.target.closest('.sexy-bubble');
                if (bubble) {
                    popBubble(bubble, e);
                }
            });
            // --- Diagonal Falling Stars with Glowing Trail ---
            (function createDiagonalFallingStars() {
                const starfield = document.querySelector('.starfield');
                if (!starfield) return;
                let activeStars = 0;
                const ANGLE = Math.PI * 3 / 4;
                function spawnDiagonalStar() {
                    if (activeStars >= CONFIG.DIAGONAL_MAX_STARS) return;
                    activeStars++;
                    const star = document.createElement('div');
                    star.className = 'diagonal-star';
                    const size = Math.random() * 0.18 + 0.18;
                    star.style.width = `${size}em`;
                    star.style.height = `${size}em`;
                    star.style.background = pickRandom(CONFIG.DIAGONAL_STAR_COLORS);
                    star.style.boxShadow = `0 0 16px 4px #fff8, 0 0 32px 8px #ff4e8e44`;
                    let startX = window.innerWidth - Math.random() * window.innerWidth * 0.7;
                    let startY = -24;
                    if (Math.random() < 0.5) {
                        startX = window.innerWidth + 24;
                        startY = Math.random() * window.innerHeight * 0.3;
                    }
                    star.style.left = `${startX}px`;
                    star.style.top = `${startY}px`;
                    starfield.appendChild(star);
                    let trail = [];
                    let x = startX, y = startY;
                    const speedOptions = [5.5, 10.10, 15.15];
                    const velocity = pickRandom(speedOptions) * (Math.random() * 0.7 + 0.7);
                    let running = true;
                    function animate() {
                        if (!running) return;
                        x += Math.cos(ANGLE) * velocity;
                        y += Math.sin(ANGLE) * velocity;
                        star.style.left = `${x}px`;
                        star.style.top = `${y}px`;
                        const trailDot = document.createElement('div');
                        trailDot.className = 'diagonal-star-trail';
                        trailDot.style.left = `${x}px`;
                        trailDot.style.top = `${y}px`;
                        trailDot.style.width = star.style.width;
                        trailDot.style.height = star.style.height;
                        trailDot.style.background = star.style.background;
                        trailDot.style.opacity = 1;
                        starfield.appendChild(trailDot);
                        trail.push(trailDot);
                        if (trail.length > CONFIG.DIAGONAL_TRAIL_LENGTH) {
                            const faded = trail.shift();
                            faded.style.transition = 'opacity 0.3s linear';
                            faded.style.opacity = 0;
                            setTimeout(() => faded.remove(), 350);
                        }
                        for (let i = 0; i < trail.length; i++) {
                            trail[i].style.opacity = (1 - (i + 1) * CONFIG.DIAGONAL_TRAIL_FADE).toFixed(2);
                        }
                        if (x < -40 || y > window.innerHeight + 40) {
                            star.remove();
                            trail.forEach(dot => dot.remove());
                            running = false;
                            activeStars--;
                            return;
                        }
                        requestAnimationFrame(animate);
                    }
                    animate();
                }
                setInterval(spawnDiagonalStar, CONFIG.DIAGONAL_SPAWN_INTERVAL);
            })();
            // Expose for use in global scope if needed
            return {
                createBubble,
                removeBubble,
                playSound,
                popBubble,
                createFirework,
                burstMoanWords,
                showMoan,
                spawnBubbles,
                updateProgressBar,
                scrollToInviteAndPulse,
                startContinuousPulse
            };
        })();
    </script>
</body>

</html>